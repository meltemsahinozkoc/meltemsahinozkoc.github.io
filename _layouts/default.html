<!DOCTYPE HTML>
<html lang="en" data-theme="light">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-E00L9PT3V9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-E00L9PT3V9');
  </script>

  <title>{{ site.name }}</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta name="author" content="{{ site.name }}" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="{{ site.baseurl }}/images/favicon/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/stylesheet.css" />
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <button class="theme-toggle" onclick="toggleTheme()" title="Toggle dark/light theme">
    <i class="fas fa-moon"></i>
  </button>

  <table style="width:100%;max-width:800px;border:0px;border-spacing:0px;border-collapse:separate;margin-right:auto;margin-left:auto;">
    <tr style="padding:0px">
      <td style="padding:0px">
        <table style="width:100%;border:0px;border-spacing:0px;border-collapse:separate;margin-right:auto;margin-left:auto;">
          <tr style="padding:0px">
            <td style="padding:2.5%;width:63%;vertical-align:middle">
              <p class="name" style="text-align: center;">
                {{ site.name }}
              </p>
              {{ content }}
            </td>
            <td style="padding:2.5%;width:37%;max-width:37%">
              <a href="{{ site.baseurl }}/images/profile_img.jpg">
                <img style="width:100%;max-width:100%;object-fit: cover;margin-top: 50px" alt="profile photo" src="{{ site.baseurl }}/images/profile_img.jpg" class="hoverZoomLink">
              </a>
            </td>
          </tr>
        </table>

        {% if site.categories.research %}
        <table style="width:100%;border:0px;border-spacing:0px;border-collapse:separate;margin-right:auto;margin-left:auto;">
          <tr>
            <td style="padding:16px;width:100%;vertical-align:middle">
              <h2>Research</h2>
              <p>
                {{ site.research_description }}
              </p>
            </td>
          </tr>
        </table>

        <table style="width:100%;border:0px;border-spacing:0px 10px;border-collapse:separate;margin-right:auto;margin-left:auto;">
          {% for post in site.categories.research %}
          {% assign post_id = post.id | remove: '/' | replace: ' ', '_' %}
          <tr onmouseout="{{ post_id }}_stop()" onmouseover="{{ post_id }}_start()" bgcolor="#f5f5f5">
            <td style="padding:16px;width:20%;vertical-align:middle">
              <div class="one">
                <div class="two" id='{{ post_id }}_gif'>
                  <img src='{{ site.baseurl }}/{{ post.image }}' width="160" style="opacity: 0; position: absolute; top: 0; left: 0;">
                </div>
                <img src='{{ site.baseurl }}/{{ post.image }}' width="160" style="opacity: 1;">
              </div>
              <script type="text/javascript">
                function {{ post_id }}_start() {
                  document.getElementById('{{ post_id }}_gif').style.opacity = "1";
                }
                function {{ post_id }}_stop() {
                  document.getElementById('{{ post_id }}_gif').style.opacity = "0";
                }
                {{ post_id }}_stop()
              </script>
            </td>
            <td style="padding:8px;width:80%;vertical-align:middle">
              <a href="{{ post.url | prepend: site.baseurl }}">
                <span class="papertitle">{{ post.title }}</span>
              </a>
              <br>
              {{ post.authors }}
              <br>
              <em>{{ post.venue }}</em>, {{ post.date | date: "%Y" }}
              <br>
              {% if post.website %}
              <a href="{{ post.website }}">project page</a> /
              {% endif %}
              {% if post.paper %}
              <a href="{{ post.paper }}">paper</a> /
              {% endif %}
              {% if post.video %}
              <a href="{{ post.video }}">video</a> /
              {% endif %}
              {% if post.code %}
              <a href="{{ post.code }}">code</a> /
              {% endif %}
              <p></p>
              {{ post.excerpt }}
            </td>
          </tr>
          {% endfor %}
        </table>
        {% endif %}

        {% if site.categories.projects %}
        <table style="width:100%;border:0px;border-spacing:0px;border-collapse:separate;margin-right:auto;margin-left:auto;">
          <tr>
            <td style="padding:16px;width:100%;vertical-align:middle">
              <h2>Projects</h2>
              <p>
                {{ site.projects_description }}
              </p>
            </td>
          </tr>
        </table>

        <table style="width:100%;border:0px;border-spacing:0px 10px;border-collapse:separate;margin-right:auto;margin-left:auto;">
          {% for post in site.categories.projects %}
          {% assign post_id = post.id | remove: '/' | replace: ' ', '_' %}
          <tr onmouseout="{{ post_id }}_stop()" onmouseover="{{ post_id }}_start()" bgcolor="#f5f5f5">
            <td style="padding:16px;width:20%;vertical-align:middle">
              <div class="one">
                <div class="two" id='{{ post_id }}_gif'>
                  <img src='{{ site.baseurl }}/{{ post.image }}' width="160" style="opacity: 0; position: absolute; top: 0; left: 0;">
                </div>
                <img src='{{ site.baseurl }}/{{ post.image }}' width="160" style="opacity: 1;">
              </div>
              <script type="text/javascript">
                function {{ post_id }}_start() {
                  document.getElementById('{{ post_id }}_gif').style.opacity = "1";
                }
                function {{ post_id }}_stop() {
                  document.getElementById('{{ post_id }}_gif').style.opacity = "0";
                }
                {{ post_id }}_stop()
              </script>
            </td>
            <td style="padding:8px;width:80%;vertical-align:middle">
              <a href="{{ post.url | prepend: site.baseurl }}">
                <span class="papertitle">{{ post.title }}</span>
              </a>
              <br>
              <em>{{ post.categories | join: ", " }}</em>
              <br>
              {{ post.date | date: "%Y-%m-%d" }}
              <br>
              {% if post.website %}
              <a href="{{ post.website }}">project page</a> /
              {% endif %}
              {% if post.paper %}
              <a href="{{ post.paper }}">paper</a> /
              {% endif %}
              {% if post.video %}
              <a href="{{ post.video }}">video</a> /
              {% endif %}
              {% if post.code %}
              <a href="{{ post.code }}">code</a> /
              {% endif %}
              <p></p>
              {{ post.excerpt }}
            </td>
          </tr>
          {% endfor %}
        </table>
        {% endif %}
      </td>
    </tr>
  </table>

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      
      // Update the icon
      const icon = document.querySelector('.theme-toggle i');
      if (newTheme === 'dark') {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
      } else {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
      }
    }

    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    
    // Set initial icon based on saved theme
    const icon = document.querySelector('.theme-toggle i');
    if (savedTheme === 'dark') {
      icon.classList.remove('fa-moon');
      icon.classList.add('fa-sun');
    }
  </script>
</body>
</html>